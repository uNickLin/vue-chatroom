webpackJsonp([1],{NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},n,!1,function(e){s("gsu9")},null,null).exports,r=s("/ocq"),o=s("//Fk"),c=s.n(o),l=firebase.database().ref("/messages/"),u={name:"ChatRoom",data:function(){return{userName:"",msgList:[],hasName:!1}},methods:{setName:function(){this.hasName=!0},getTime:function(){var e=new Date,t=e.getHours(),s=e.getMinutes();return(t>=12?"下午":"上午")+" "+t+":"+s},sendMsg:function(e){var t=document.querySelector(".pannel_body"),s=document.querySelector("#msg_input").value;return!e.shiftKey&&(s.length<=1&&""===s.trim()?(e.preventDefault(),!1):(l.push({userName:this.userName,message:s,timeStamp:this.getTime()}),document.querySelector("#msg_input").value="",e.preventDefault(),void setTimeout(function(){t.scrollTop=t.scrollHeight},500)))}},mounted:function(){var e=this;new c.a(function(t,s){t(l.on("value",function(t){e.msgList=t.val()}))}).then(function(){var e=document.querySelector(".pannel_body");e.scrollTop=e.scrollHeight})},updated:function(){var e=document.querySelector(".pannel_body");e.scrollTop=e.scrollHeight}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{attrs:{id:"chatroom"}},[s("div",{class:e.hasName?"close":"",attrs:{id:"set_name_modal"}},[s("div",{staticClass:"set_name_container"},[e._m(0),s("form",{staticClass:"set_name_body"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{type:"text",required:"required"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}}),s("button",{on:{click:function(t){return t.preventDefault(),e.setName(t)}}},[e._v("確定")])])])]),s("div",{staticClass:"container"},[s("div",{staticClass:"main_pannel"},[s("div",{staticClass:"pannel_head"},[e._m(1),s("div",{staticClass:"pannel_head_user"},[s("div",{staticClass:"pannel_head_user_avatar"}),s("div",{staticClass:"pannel_head_user_name"},[s("h4",[e._v(e._s(e.userName))])])])]),s("div",{staticClass:"pannel_body"},[e._l(e.msgList,function(t){return[t.userName!==e.userName?s("div",{staticClass:"message_block other_msg"},[s("div",{staticClass:"message_container"},[s("div",{staticClass:"massage_other_avatar"}),s("div",{staticClass:"massage_content"},[s("div",{staticClass:"massage_other_name"},[s("h6",[e._v(e._s(t.userName))])]),s("div",{staticClass:"massage_text"},[s("p",[e._v(e._s(t.message))]),s("span",{staticClass:"time"},[e._v(e._s(t.timeStamp))])])])])]):s("div",{staticClass:"message_block my_msg"},[s("div",{staticClass:"message_container"},[s("div",{staticClass:"massage_content"},[s("div",{staticClass:"massage_text"},[s("p",[e._v(e._s(t.message))]),s("span",{staticClass:"time"},[e._v(e._s(t.timeStamp))])])])])])]})],2),s("div",{staticClass:"pannel_footer"},[s("textarea",{attrs:{id:"msg_input"},on:{keypress:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.sendMsg(t)}}})])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"set_name_head"},[t("p",[this._v("請輸入名稱")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pannel_head_controls"},[t("i",{staticClass:"close"}),t("i",{staticClass:"min"}),t("i",{staticClass:"max"})])}]};var _=s("VU/8")(u,m,!1,function(e){s("Vu4D")},null,null).exports;a.a.use(r.a);var d=new r.a({routes:[{path:"/",name:"Lets chat",component:_}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:d,components:{App:i},template:"<App/>"})},Vu4D:function(e,t){},gsu9:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a00900a724b324996440.js.map